<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Review_vo">
	<insert id="ReViewInsert" parameterType="Re_vo">
		INSERT INTO REVIEW (RE_IDX,RE_TITLE,RE_CONTENT,RE_USERID,RE_IMG,RE_CATEGORYDETAIL,RE_IMGNAMES)
		VALUES (REVIEW_RE_IDX_SEQ.NEXTVAL,#{RE_title},#{RE_content},#{RE_userId},#{RE_img},#{RE_categoryDetail},#{RE_imgNames})
	</insert>
	<select id="totalCount" resultType="Integer">
		select count(*) from REVIEW
	</select>
	<select id="selectReViewList" parameterType="java.util.HashMap" resultType="Re_vo">
		<![CDATA[
		select * from (
			select rownum rnum, TT.* from (
				select * from REVIEW order by RE_IDX DESC
			) TT where rownum <= #{endNo}
		) where rnum >= #{startNo}
		]]>
	</select>
	<update id="ReHitUp" parameterType="Integer">
		update REVIEW set RE_hit = RE_hit + 1 where RE_idx = #{idx}
	</update>
	<update id="ReViewReport" parameterType="Integer">
		update REVIEW set RE_report = RE_report + 1 where RE_idx = #{idx}
	</update>
	<select id="selectByIdx" parameterType="Integer" resultType="Re_vo">
		select * from REVIEW where RE_idx = #{idx}
	</select>
	<update id="ReViewUpdate" parameterType="Re_vo">
		update REVIEW set re_content = #{RE_content},re_title=#{RE_title},
		re_img = #{RE_img} , RE_categoryDetail=#{RE_categoryDetail} , RE_imgNames = #{RE_imgNames}
		where RE_idx = #{RE_idx}
	</update>
		
</mapper>











